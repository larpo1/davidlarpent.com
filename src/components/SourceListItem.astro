---
interface Props {
  slug: string;
  title: string;
  author: string;
  type: 'book' | 'article' | 'paper' | 'podcast';
  date: Date;
  tags?: string[];
}

const { slug, title, author, type, date, tags = [] } = Astro.props;

const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric'
});
---

<li
  class="post-list-item source-list-item"
  data-content-type="source"
>
  <h2 class="post-list-title">
    <a href={`/sources/${slug}`}>{title}</a>
  </h2>
  <div class="post-meta">
    <span class="source-type-badge">{type}</span>
    <span class="source-author">{author}</span>
    &middot; {formattedDate}
  </div>
  {tags.length > 0 && (
    <div class="post-tags">
      {tags.map(tag => (
        <a href={`/tags/${tag.toLowerCase()}`} class="tag-link">
          #{tag}
        </a>
      ))}
    </div>
  )}
</li>
